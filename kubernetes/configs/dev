#!/bin/bash

# Functions
# TODO Take version from image label
function shortVersion() {
  echo $1 | grep -oE '[0-9]+\.[0-9]+'
}

# Services Versions
AGREEMENT_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"
ATTRIBUTE_REGISTRY_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"
AUTHORIZATION_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"
AUTHORIZATION_PROCESS_IMAGE_VERSION="v0.1.1-SNAPSHOT"
CATALOG_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"
CATALOG_PROCESS_IMAGE_VERSION="v0.1.1-snapshot" # TODO Update this
ESERVICE_MOCKUP_IMAGE_VERSION="v0.1.1-SNAPSHOT"
KEY_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"
PARTY_MANAGEMENT_IMAGE_VERSION="v0.1.1-snapshot" # TODO Update this
PARTY_MOCK_REGISTRY_IMAGE_VERSION="v0.1.1-SNAPSHOT"
PARTY_PROCESS_REVIEWS_IMAGE_VERSION="v0.1.1-SNAPSHOT"
PARTY_REGISTRY_PROXY_IMAGE_VERSION="v0.1.1-SNAPSHOT"
USER_REGISTRY_MANAGEMENT_IMAGE_VERSION="v0.1.1-SNAPSHOT"

# Common
INGRESS_HOST="gateway.interop.pdnd.dev"
REPOSITORY="gateway.interop.pdnd.dev"
POSTGRES_HOST="pdnd-interop-dev-rds.c9zr6t2swdpb.eu-central-1.rds.amazonaws.com"
NAMESPACE=$NAMESPACE
REPLICAS=1

AGREEMENT_MANAGEMENT_INTERFACE_VERSION=$(shortVersion $AGREEMENT_MANAGEMENT_IMAGE_VERSION)
ATTRIBUTE_REGISTRY_MANAGEMENT_INTERFACE_VERSION=$(shortVersion $ATTRIBUTE_REGISTRY_MANAGEMENT_IMAGE_VERSION)
CATALOG_MANAGEMENT_INTERFACE_VERSION=$(shortVersion $CATALOG_MANAGEMENT_IMAGE_VERSION)
PARTY_MANAGEMENT_INTERFACE_VERSION=$(shortVersion $PARTY_MANAGEMENT_IMAGE_VERSION)

AGREEMENT_MANAGEMENT_SERVICE_NAME="pdnd-interop-uservice-agreement-management"
ATTRIBUTE_REGISTRY_MANAGEMENT_SERVICE_NAME="pdnd-interop-uservice-attribute-registry-management"
CATALOG_MANAGEMENT_SERVICE_NAME="pdnd-interop-uservice-catalog-management"
PARTY_MANAGEMENT_SERVICE_NAME="pdnd-interop-uservice-party-management"

# Party Management
PARTY_MANAGEMENT_STORAGE_TYPE="something"
PARTY_MANAGEMENT_STORAGE_CONTAINER="something"
PARTY_MANAGEMENT_STORAGE_ENDPOINT="something"
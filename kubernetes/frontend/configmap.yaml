apiVersion: v1
kind: ConfigMap
metadata:
  name: {{SERVICE_NAME}}
  namespace: {{NAMESPACE}}
data:
  default.conf: |-
    server {
        listen       80;
        listen  [::]:80;
        server_name  localhost;

        location /ui {
            root   /usr/share/nginx/html;
            index  index.html;
            try_files $uri $uri/ /ui/index.html;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   /usr/share/nginx/html;
        }
    }
  env.js: |-
    window.pagopa_env = {
      AGREEMENT_PROCESS_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{AGREEMENT_PROCESS_APPLICATION_PATH}}/{{AGREEMENT_PROCESS_INTERFACE_VERSION}}",
      ATTRIBUTE_REGISTRY_MANAGEMENT_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{ATTRIBUTE_REGISTRY_MANAGEMENT_APPLICATION_PATH}}/{{ATTRIBUTE_REGISTRY_MANAGEMENT_INTERFACE_VERSION}}",
      AUTHORIZATION_PROCESS_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{AUTHORIZATION_PROCESS_APPLICATION_PATH}}/{{AUTHORIZATION_PROCESS_INTERFACE_VERSION}}",
      CATALOG_PROCESS_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{CATALOG_PROCESS_APPLICATION_PATH}}/{{CATALOG_PROCESS_INTERFACE_VERSION}}",
      PARTY_PROCESS_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{PARTY_PROCESS_APPLICATION_PATH}}/{{PARTY_PROCESS_INTERFACE_VERSION}}",
      PURPOSE_PROCESS_URL: "https://{{EXTERNAL_APPLICATION_HOST}}/{{PURPOSE_PROCESS_APPLICATION_PATH}}/{{PURPOSE_PROCESS_INTERFACE_VERSION}}"
    }